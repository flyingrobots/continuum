\documentclass[11pt,openany]{book}

% ========================================
% Package Imports
% ========================================

% Typography and fonts
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{microtype}

% Math and symbols
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
% Note: unicode-math requires XeLaTeX/LuaLaTeX - removed for pdflatex compatibility

% Define Omega command for CΩMPUTER
\newcommand{\COmega}{C$\Omega$MPUTER}

% Wordmark commands - use SVG logos
\newcommand{\computerwordmark}[1][4cm]{\includesvg[width=#1]{CΩMPUTER (4).svg}}
\newcommand{\codexwordmark}[1][3cm]{\includesvg[width=#1]{CΩDEX.svg}}
\newcommand{\partwordmark}[2][5cm]{\includesvg[width=#1]{#2}}

% Graphics and colors
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{tikz}

% SVG support (requires Inkscape installed)
% Alternatively, convert SVGs to PDF first: inkscape file.svg --export-pdf=file.pdf
\usepackage{svg}
\svgpath{{images/}}

% Layout and spacing
\usepackage[
  paperwidth=6in,
  paperheight=9in,
  top=1in,
  bottom=1in,
  inner=0.75in,
  outer=0.75in
]{geometry}
\usepackage{setspace}
\usepackage{enumitem}

% Remove paragraph indentation and add spacing between paragraphs
\usepackage{parskip}
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.5\baselineskip plus 2pt}

% Headers and footers
\usepackage{fancyhdr}

% Hyperlinks (load near end)
\usepackage[
  colorlinks=true,
  linkcolor=black,
  urlcolor=blue,
  citecolor=black,
  bookmarks=true,
  bookmarksnumbered=true
]{hyperref}

% Code listings
\usepackage{listings}
\usepackage{verbatim}

% Quotations and blocks
\usepackage{csquotes}

% ========================================
% Custom Styling
% ========================================

% Define custom colors
\definecolor{quotegray}{gray}{0.4}
\definecolor{codebg}{gray}{0.95}

% Custom theorem environments
\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}{Lemma}[chapter]
\newtheorem{example}{Example}[chapter]

% Custom block quote style
\newenvironment{partintro}{%
  \begin{quote}
  \itshape
  \color{quotegray}
}{%
  \end{quote}
}

% Code listing style
\lstset{
  basicstyle=\ttfamily\small,
  backgroundcolor=\color{codebg},
  frame=single,
  breaklines=true,
  columns=flexible,
  keepspaces=true
}

% Custom section styling for "FOR THE NERDS"
\newenvironment{nerdbox}{%
  \par\vspace{0.5em}
  \noindent\hrulefill\\
  \textbf{FOR THE NERDS™}\\
  \hrulefill
  \par\vspace{0.3em}
  \small
}{%
  \par\vspace{0.3em}
  \noindent\hrulefill
  \par\vspace{0.5em}
}

% Custom chapter opening with optional wordmark
\usepackage{titlesec}
\newcommand{\chapterwithwordmark}[2]{%
  \chapter{#1}
  \vspace{-1em}
  \begin{center}
  \includesvg[width=5cm]{#2}
  \end{center}
  \vspace{1em}
}

% Custom part page styling
\titleformat{\part}[display]
  {\centering\Huge\bfseries}
  {}
  {0pt}
  {\thispagestyle{empty}\vspace{3cm}}
  [\vspace{2cm}]

% ========================================
% Page Styling
% ========================================

\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE]{\leftmark}
\fancyhead[RO]{\rightmark}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0pt}

% Chapter page style
\fancypagestyle{plain}{
  \fancyhf{}
  \fancyfoot[C]{\thepage}
  \renewcommand{\headrulewidth}{0pt}
}

% ========================================
% Document Metadata
% ========================================

\title{\COmega}
\author{James Ross}
\date{2025}

% ========================================
% Document Body
% ========================================

\begin{document}

% ========================================
% Front Matter
% ========================================

\frontmatter

% Custom title page
\begin{titlepage}
  \centering
  \vspace*{2cm}

  % Main wordmark
  \computerwordmark[8cm]
  \vspace{1.5cm}

  {\Large\itshape A Computational Cosmology\par}
  \vspace{2cm}

  {\Large James Ross\par}
  \vspace{1cm}

  {\large Flying Robots\par}
  \vspace{3cm}

  {\large 2025\par}

  \vfill

  {\small \COmega{} • JITOS\par}
  {\small © 2025 James Ross • Flying Robots\par}
  {\small All Rights Reserved\par}
\end{titlepage}

% Table of Contents
\tableofcontents

% ========================================
% Main Matter
% ========================================

\mainmatter

% Part I — The Universe as Rewrite
\part{The Universe as Rewrite}
\begin{center}
\vspace{-2cm}
\includesvg[width=7cm]{The Universe as Rewrite.svg}
\end{center}
\vspace{1cm}
\input{parts/part1-intro}

\chapter{Computation Is the Substrate}
\input{chapters/chapter-001}

\chapter{Graphs, Rules, and Recursion}
\input{chapters/chapter-002}

\chapter{Recursive Meta-Graphs (RMG): A New Ontology}
\input{chapters/chapter-003}

\chapter{Double-Pushout Physics (DPO): The Rule of Rules}
\input{chapters/chapter-004}

% Part II — The Geometry of Thought
\part{The Geometry of Thought}
\begin{center}
\vspace{-2cm}
\includesvg[width=7cm]{The Geometry of Thought.svg}
\end{center}
\vspace{1cm}
\input{parts/part2-intro}

\chapter{Rulial Space and Rulial Distance}
\input{chapters/chapter-005}

\chapter{Worldlines: Execution as Geodesics}
\input{chapters/chapter-006}

\chapter{Neighborhoods of Universes}
\input{chapters/chapter-007}

\chapter{MRMW: The Phase Space of All Possible Computations}
\input{chapters/chapter-008}

% Part III — The Physics of C$\Omega$MPUTER
\part{The Physics of C$\Omega$MPUTER}
\begin{center}
\vspace{-2cm}
\includesvg[width=7cm]{The Physics of CΩMPUTER.svg}
\end{center}
\vspace{1cm}
\input{parts/part3-intro}

\chapter{Curvature in MRMW}
\input{chapters/chapter-009}

\chapter{Local NP Collapse}
\input{chapters/chapter-010}

\chapter{Superposition as Rewrite Bundles}
\input{chapters/chapter-011}

\chapter{Interference as Constraint Resolution}
\input{chapters/chapter-012}

\chapter{Measurement as Minimal Path Collapse}
\input{chapters/chapter-013}

\chapter{Reversibility and the Arrow of Computation}
\input{chapters/chapter-014}

% Part IV — Machines That Span Universes
\part{Machines That Span Universes}
\begin{center}
\vspace{-2cm}
\includesvg[width=7cm]{Machines That Span Universes.svg}
\end{center}
\vspace{1cm}
\input{parts/part4-intro}

\chapter{Time Travel Debugging}
\input{chapters/chapter-015}

\chapter{Counterfactual Execution Engines}
\input{chapters/chapter-016}

\chapter{Adversarial Universes (MORIARTY)}
\input{chapters/chapter-017}

\chapter{Deterministic Optimization Across Worlds}
\input{chapters/chapter-018}

\chapter{Rulial Provenance \& Eternal Audit Logs}
\input{chapters/chapter-019}

% Part V — The Architecture of C$\Omega$MPUTER
\part{The Architecture of C$\Omega$MPUTER}
\begin{center}
\vspace{-2cm}
\includesvg[width=7cm]{The Architecture of CΩMPUTER.svg}
\end{center}
\vspace{1cm}
% \input{parts/part5-intro}

% \chapter{The C$\Omega$MPILER: Rewrite-Driven Execution}
% \input{chapters/chapter-020}

% \chapter{Differential Rulial Analysis}
% \input{chapters/chapter-021}

% \chapter{RMG Storage Systems (Git, IPLD, GATOS)}
% \input{chapters/chapter-022}

% \chapter{Domain-Specific RMGs (Physics, Biology, Logic)}
% \input{chapters/chapter-023}

% \chapter{The C$\Omega$MPUTER Runtime: A Universe of Universes}
% \input{chapters/chapter-024}

% Part VI — Beyond Computation
% \part{Beyond Computation}
% \begin{center}
% \vspace{-2cm}
% \includesvg[width=7cm]{Beyond Computation.svg}
% \end{center}
% \vspace{1cm}
% \input{parts/part6-intro}

% \chapter{Computation as Physics}
% \input{chapters/chapter-025}

% \chapter{Physics as Computation}
% \input{chapters/chapter-026}

% \chapter{C$\Omega$SMOS: The Physical Universe as RMG}
% \input{chapters/chapter-027}

% \chapter{The Future of Intelligence in MRMW}
% \input{chapters/chapter-028}

% \chapter{The Ethics of Multiversal Machines}
% \input{chapters/chapter-029}

% \chapter{Open Problems in Ruliometric Science}
% \input{chapters/chapter-030}

% ========================================
% Back Matter
% ========================================

\backmatter

% Appendix: C$\Omega$DEX
% \chapter{C$\Omega$DEX}
% \input{chapters/codex}

\end{document}
